!function(e,t){"use strict";if(t.getElementById("announcement")&&(e.GenkiAnn={rotation:!1,msg:[{date:"10/26/24",content:'<a href="https://ko-fi.com/post/GenkiTobira-Recent-Updates-Future-Plans-Z8Z6158OWB" target="_blank">Click here</a> to learn about the recent updates made to the website as well as my future plans.'},{content:'Interested in learning Japanese? Check out <a href="'+getPaths()+'help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{content:'Looking for more self-study resources? Visit the <a href="https://tobiraweb.9640.jp/">official website</a> for Tobira or check out some of the resources in the <a href="https://github.com/SethClydesdale/tobira-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{content:'Want to stay up to date on the latest changes made to Tobira Study Resources? You can follow updates via <a href="https://github.com/SethClydesdale/tobira-study-resources/commits/main">GitHub</a>, <a href="https://twitter.com/search?q=%23TobiraStudyResources%20from%3Asethc1995&src=typed_query&f=live">Twitter</a>, or <a href="https://ko-fi.com/sethc95/posts">Ko-fi</a>. Feel free to also contact us on <a href="https://github.com/SethClydesdale/tobira-study-resources/issues">GitHub</a> if you have any questions or feedback.'},{content:'Have a question about the site? Check out the <a href="'+getPaths()+"help/\">FAQ</a>! If you can't find an answer to your question, feel free to contact us via <a href=\"https://github.com/SethClydesdale/tobira-study-resources/issues\">GitHub's issues</a> and we'll try to answer your question in a timely manner."},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Tobira Study Resources can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this tool helpful for studying with Tobira, please consider making <a href="'+getPaths()+'donate/">a donation</a> to help support my work. Thank you!'}],index:0,list:t.getElementById("announce-list"),next:function(t,n){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof t?(GenkiAnn.index+=t,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&n&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,15e3)},init:function(){if(GenkiAnn.msg.length>1){t.getElementById("announcement-controls").style.display="";for(var e=0,n=GenkiAnn.msg.length,a="",i=!0;e<n;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(a+='<div class="announcement'+(i?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",i&&(i=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",a),GenkiAnn.msg=t.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}},GenkiAnn.init()),"file:"==e.location.protocol)for(var n=t.getElementsByTagName("A"),a=0,i=n.length;a<i;a++)/http/.test(n[a].href)||(/\/$/.test(n[a].href)?n[a].href+="index.html":/\/#.*?$/.test(n[a].href)?n[a].href=n[a].href.replace(/(#.*?)$/,"index.html$1"):/\/\?.*?$/.test(n[a].href)&&(n[a].href=n[a].href.replace(/(\?.*?)$/,"index.html$1")));var o=t.getElementById("content").querySelectorAll("h1, h2, h3, h4, h5, h6");for(a=0,i=o.length;a<i;a++)o[a].id&&o[a].insertAdjacentHTML("afterbegin",'<a href="#'+o[a].id+'" class="anchor fa"><span class="anchor-icon">&#xf0c1;</span></a>');if(storageOK){var r=t.querySelector("footer"),s=t.createElement("LABEL"),l=t.createElement("DIV"),c=t.createElement("A");s.id="light-switch",s.tabIndex=0,s.innerHTML='<input id="light-switch-checkbox" type="checkbox" '+("on"==localStorage.darkMode?'checked="true"':"")+"/><div></div>",s.onkeyup=function(e){"Enter"==e.key&&this.firstChild.click()},s.firstChild.onchange=function(){var n,a=t.documentElement;if(this.checked?(localStorage.darkMode="on",(n=t.createElement("LINK")).id="dark-mode",n.rel="stylesheet",n.href=getPaths()+"resources/css/stylesheet-dark.min.css",t.head.appendChild(n),a.className+=" dark-mode"):(localStorage.darkMode="off",(n=t.getElementById("dark-mode"))&&t.head.removeChild(n),a.className=a.className.replace(" dark-mode","")),e.KanjiCanvas){KanjiCanvas.darkMode=!!t.querySelector(".dark-mode"),KanjiCanvas.quizOver=!!t.querySelector(".quiz-over");for(var i=t.querySelectorAll(".kanji-canvas"),o=0,r=i.length;o<r;o++)KanjiCanvas["canvas_"+i[o].id]&&KanjiCanvas.redraw(i[o].id,!0,!!e.Genki&&Genki.strokeNumberDisplay)}},l.id="light-switch-container",l.innerHTML='<label id="light-switch-label" for="light-switch-checkbox">Dark Mode </label>',c.id="genki-site-settings",c.innerHTML='<i class="fa">&#xf013;</i>',c.title="Site Settings",c.href="#",c.onclick=function(){return!t.getElementById("genki-modal")&&(GenkiSettings.manager(),!1)},l.appendChild(s),l.appendChild(c),r.appendChild(l)}else{r=t.querySelector("footer");(l=t.createElement("DIV")).id="light-switch-container",l.innerHTML='<a href="'+getPaths()+"help/stuck-loading/"+("file:"==e.location.protocol?"index.html":"")+'"><strong>Where is Dark Mode?</strong></a>',r.appendChild(l)}t.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey||e.metaKey&&e.shiftKey){var n;switch(e.key.toLowerCase()){case"left":case"arrowleft":n=t.querySelector(".prev-ex");break;case"right":case"arrowright":n=t.querySelector(".next-ex");break;case"e":n=t.getElementById("toggle-exercises");break;case"q":n=t.getElementById("quick-jisho-toggle");break;case"d":n=t.getElementById("light-switch");break;case"f":n=t.getElementById("toggle-furigana");break;case"r":n=t.getElementById("random-exercise");break;case"m":n=t.getElementById("genki-site-settings");break;case"c":n=t.getElementById("check-answers-button")}n&&(e.preventDefault(),n.click())}if("multi"==Genki.active.type&&e.altKey&&/a|b|c|d/i.test(e.key)){var a=t.querySelector("#quiz-q"+Genki.stats.solved+' div[data-option="'+e.key.toUpperCase()+'"]');a&&(a.click(),e.preventDefault())}})}(window,document);